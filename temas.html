<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Creador de Temas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
    <h2 class="mb-4 text-center">Creador de Temas</h2>

    <div class="card p-4 shadow-sm">
        <label class="form-label">Elegí un color base en Hexadecimal:</label>
        <input type="text" class="form-control" id="colorBase" placeholder="#3498db">
        
        <button class="btn btn-success mt-3" id="generarBtn">Generar Tema Completo</button>

        <div id="paleta" class="mt-4"></div>
    </div>
</div>

<script>
function getContrastColor(hex) {
    hex = hex.replace("#", "");
    const r = parseInt(hex.substring(0,2), 16);
    const g = parseInt(hex.substring(2,4), 16);
    const b = parseInt(hex.substring(4,6), 16);
    const luminancia = (0.299*r + 0.587*g + 0.114*b)/255;
    return luminancia > 0.5 ? "#000" : "#fff";
}

document.getElementById("generarBtn").addEventListener("click", function () {
    const hex = document.getElementById("colorBase").value.replace("#", "");
    const contenedor = document.getElementById("paleta");
    contenedor.innerHTML = "";

    const modos = [
        { nombre: "Tonos Analogic", modo: "analogic" },
        { nombre: "Complementarios", modo: "complement" },
        { nombre: "Monocromático", modo: "monochrome" },
        { nombre: "Triad", modo: "triad" },
        { nombre: "Quad", modo: "quad" }
    ];

    modos.forEach(info => {
        fetch(`https://www.thecolorapi.com/scheme?hex=${hex}&mode=${info.modo}&count=5`)
            .then(res => res.json())
            .then(data => {

                const titulo = document.createElement("h4");
                titulo.textContent = info.nombre;
                titulo.className = "mt-4";
                contenedor.appendChild(titulo);

                const fila = document.createElement("div");
                fila.className = "row g-3";
                
                data.colors.forEach(color => {
                    const col = document.createElement("div");
                    col.className = "col-md-2";

                    const box = document.createElement("div");
                    box.className = "p-3 rounded shadow-sm text-center";
                    box.style.background = color.hex.value;
                    box.style.color = getContrastColor(color.hex.value);
                    box.textContent = color.hex.value;

                    col.appendChild(box);
                    fila.appendChild(col);
                });

                contenedor.appendChild(fila);
            });
    });

    fetch(`https://www.thecolorapi.com/id?hex=${hex}`)
        .then(res => res.json())
        .then(data => {
            const base = data.hex.value;

            const contraste = document.createElement("h4");
            contraste.textContent = "Contraste recomendable";
            contraste.className = "mt-4";
            contenedor.appendChild(contraste);

            const mejor = document.createElement("div");
            mejor.className = "p-4 rounded shadow-sm text-center w-50";
            mejor.style.background = base;
            mejor.style.color = getContrastColor(base);
            mejor.textContent = "Este color funciona bien como texto sobre tu color base";

            contenedor.appendChild(mejor);
        });
});
</script>

</body>
</html>
